<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<VBox xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.heronix.controller.ScheduleOverrideController"
      spacing="15" prefWidth="550" prefHeight="500"
      styleClass="card">

    <!-- Header -->
    <HBox alignment="CENTER_LEFT" spacing="10" styleClass="card">
        <Label text="Manual Schedule Override" styleClass="text-white"/>
    </HBox>

    <!-- Current Slot Info -->
    <VBox spacing="5" styleClass="form-panel">
        <Label text="Current Assignment" style="-fx-font-size: 14; -fx-font-weight: bold;"/>
        <Separator/>
        <Label fx:id="slotInfoLabel" text="Period X - Course Name - Day Type"
               styleClass="label-12-muted-555"/>
    </VBox>

    <!-- Override Options -->
    <VBox spacing="10" styleClass="form-panel">
        <Label text="New Assignment" style="-fx-font-size: 14; -fx-font-weight: bold;"/>
        <Separator/>

        <!-- Teacher Selection -->
        <HBox spacing="10" alignment="CENTER_LEFT">
            <Label text="Teacher:" prefWidth="100" styleClass="form-label"/>
            <ComboBox fx:id="teacherComboBox" prefWidth="350" promptText="Select teacher..."/>
        </HBox>

        <!-- Room Selection -->
        <HBox spacing="10" alignment="CENTER_LEFT">
            <Label text="Room:" prefWidth="100" styleClass="form-label"/>
            <ComboBox fx:id="roomComboBox" prefWidth="350" promptText="Select room..."/>
        </HBox>

        <!-- Reason -->
        <HBox spacing="10" alignment="TOP_LEFT">
            <Label text="Reason:" prefWidth="100" styleClass="form-label"/>
            <TextField fx:id="reasonField" prefWidth="350" promptText="Enter reason for override..."/>
        </HBox>

        <!-- Pin Assignment -->
        <HBox spacing="10" alignment="CENTER_LEFT">
            <Label text="Lock Assignment:" prefWidth="100" styleClass="form-label"/>
            <CheckBox fx:id="pinAssignmentCheckBox" text="Pin this assignment (prevent auto-changes)"/>
        </HBox>
    </VBox>

    <!-- Conflict Detection Area -->
    <VBox spacing="5" styleClass="form-panel">
        <Label text="Conflict Check" style="-fx-font-size: 14; -fx-font-weight: bold;"/>
        <Separator/>
        <TextArea fx:id="conflictArea" prefHeight="100" editable="false" wrapText="true"
                  text="No conflicts detected."
                  styleClass="text-area-green-bg"/>
    </VBox>

    <!-- Action Buttons -->
    <HBox spacing="10" alignment="CENTER_RIGHT" style="-fx-padding: 10 0 0 0;">
        <Button fx:id="cancelButton" text="Cancel" onAction="#handleCancel"
                prefWidth="100" styleClass="button-secondary"/>
        <Button fx:id="applyButton" text="Apply Override" onAction="#handleApply"
                prefWidth="130" styleClass="button-success"/>
    </HBox>

    <!-- Help Text -->
    <Label text="Note: Manual overrides will be recorded in the audit log with your username and timestamp."
           styleClass="text-hint-12" wrapText="true"/>

</VBox>
