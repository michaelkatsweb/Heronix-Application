<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.heronix.ui.controller.DashboardController"
      spacing="24"
      styleClass="dashboard-root">


    <padding>
        <Insets top="24" right="24" bottom="24" left="24"/>
    </padding>

    <!-- Header Section -->
    <HBox alignment="CENTER_LEFT" spacing="16">
        <VBox spacing="4" HBox.hgrow="ALWAYS">
            <Label text="Dashboard" styleClass="label-title"/>
            <Label text="Overview of your scheduling system" styleClass="label-subtitle"/>
        </VBox>
        <Button text="Generate New Schedule" styleClass="button-primary"
                onAction="#handleGenerateSchedule"/>
    </HBox>

    <!-- Metrics Row -->
    <HBox spacing="16" VBox.vgrow="NEVER">
        <!-- Quality Score Card -->
        <VBox styleClass="card" spacing="12" HBox.hgrow="ALWAYS">
            <padding>
                <Insets top="16" right="16" bottom="16" left="16"/>
            </padding>
            <Label text="OPTIMIZATION SCORE" styleClass="label-caption"/>
            <HBox alignment="BASELINE_LEFT" spacing="8">
                <Label fx:id="qualityScoreLabel" text="0.0%" styleClass="stat-value"/>
                <Label fx:id="qualityTrendLabel" text="" styleClass="text-success"/>
            </HBox>
            <ProgressBar fx:id="qualityProgressBar" progress="0.0"
                        styleClass="progress-bar-success"
                        maxWidth="Infinity"/>
            <Label text="Target: >90%" styleClass="label-caption"/>
        </VBox>

        <!-- Efficiency Card -->
        <VBox styleClass="card" spacing="12" HBox.hgrow="ALWAYS">
            <padding>
                <Insets top="16" right="16" bottom="16" left="16"/>
            </padding>
            <Label text="EFFICIENCY RATE" styleClass="label-caption"/>
            <HBox alignment="BASELINE_LEFT" spacing="8">
                <Label fx:id="efficiencyScoreLabel" text="0.0%" styleClass="stat-value"/>
                <Label fx:id="efficiencyTrendLabel" text="" styleClass="text-success"/>
            </HBox>
            <ProgressBar fx:id="efficiencyProgressBar" progress="0.0"
                        styleClass="progress-bar-primary"
                        maxWidth="Infinity"/>
            <Label text="Target: >85%" styleClass="label-caption"/>
        </VBox>

        <!-- Conflicts Card -->
        <VBox styleClass="card" spacing="12" HBox.hgrow="ALWAYS">
            <padding>
                <Insets top="16" right="16" bottom="16" left="16"/>
            </padding>
            <Label text="CONFLICTS" styleClass="label-caption"/>
            <HBox alignment="BASELINE_LEFT" spacing="8">
                <Label fx:id="conflictsLabel" text="0" styleClass="stat-value text-success"/>
                <Label text="RESOLVED" styleClass="text-success"/>
            </HBox>
            <ProgressBar progress="1.0"
                        styleClass="progress-bar-success"
                        maxWidth="Infinity"/>
            <Label text="Target: 0 conflicts" styleClass="label-caption"/>
        </VBox>

        <!-- Utilization Card -->
        <VBox styleClass="card" spacing="12" HBox.hgrow="ALWAYS">
            <padding>
                <Insets top="16" right="16" bottom="16" left="16"/>
            </padding>
            <Label text="RESOURCE UTILIZATION" styleClass="label-caption"/>
            <HBox alignment="BASELINE_LEFT" spacing="8">
                <Label fx:id="utilizationLabel" text="0.0%" styleClass="stat-value"/>
            </HBox>
            <ProgressBar fx:id="utilizationProgressBar" progress="0.0"
                        styleClass="progress-bar-warning"
                        maxWidth="Infinity"/>
            <Label text="Teachers, Rooms, Time Slots" styleClass="label-caption"/>
        </VBox>
    </HBox>

    <!-- Quick Stats Row -->
    <HBox spacing="16">
        <!-- Teachers Card -->
        <VBox styleClass="stat-card" spacing="8" HBox.hgrow="ALWAYS">
            <padding>
                <Insets top="16" right="16" bottom="16" left="16"/>
            </padding>
            <HBox alignment="CENTER_LEFT" spacing="12">
                <Label text="&#128104;&#8205;&#127979;" style="-fx-font-size: 32;"/>
                <VBox spacing="2">
                    <Label fx:id="teacherCountLabel" text="0" styleClass="stat-value"/>
                    <Label text="Active Teachers" styleClass="stat-description"/>
                </VBox>
            </HBox>
        </VBox>

        <!-- Students Card -->
        <VBox styleClass="stat-card" spacing="8" HBox.hgrow="ALWAYS">
            <padding>
                <Insets top="16" right="16" bottom="16" left="16"/>
            </padding>
            <HBox alignment="CENTER_LEFT" spacing="12">
                <Label text="&#127891;" style="-fx-font-size: 32;"/>
                <VBox spacing="2">
                    <Label fx:id="studentCountLabel" text="0" styleClass="stat-value"/>
                    <Label text="Enrolled Students" styleClass="stat-description"/>
                </VBox>
            </HBox>
        </VBox>

        <!-- Courses Card -->
        <VBox styleClass="stat-card" spacing="8" HBox.hgrow="ALWAYS">
            <padding>
                <Insets top="16" right="16" bottom="16" left="16"/>
            </padding>
            <HBox alignment="CENTER_LEFT" spacing="12">
                <Label text="&#128218;" style="-fx-font-size: 32;"/>
                <VBox spacing="2">
                    <Label fx:id="courseCountLabel" text="0" styleClass="stat-value"/>
                    <Label text="Total Courses" styleClass="stat-description"/>
                </VBox>
            </HBox>
        </VBox>

        <!-- Rooms Card -->
        <VBox styleClass="stat-card" spacing="8" HBox.hgrow="ALWAYS">
            <padding>
                <Insets top="16" right="16" bottom="16" left="16"/>
            </padding>
            <HBox alignment="CENTER_LEFT" spacing="12">
                <Label text="&#127979;" style="-fx-font-size: 32;"/>
                <VBox spacing="2">
                    <Label fx:id="roomCountLabel" text="0" styleClass="stat-value"/>
                    <Label text="Available Rooms" styleClass="stat-description"/>
                </VBox>
            </HBox>
        </VBox>

        <!-- Schedules Card -->
        <VBox styleClass="stat-card" spacing="8" HBox.hgrow="ALWAYS">
            <padding>
                <Insets top="16" right="16" bottom="16" left="16"/>
            </padding>
            <HBox alignment="CENTER_LEFT" spacing="12">
                <Label text="&#128197;" style="-fx-font-size: 32;"/>
                <VBox spacing="2">
                    <Label fx:id="scheduleCountLabel" text="0" styleClass="stat-value"/>
                    <Label text="Generated Schedules" styleClass="stat-description"/>
                </VBox>
            </HBox>
        </VBox>
    </HBox>

    <!-- Recent Activity -->
    <VBox styleClass="card" spacing="16" VBox.vgrow="ALWAYS">
        <padding>
            <Insets top="16" right="16" bottom="16" left="16"/>
        </padding>
        <HBox alignment="CENTER_LEFT" spacing="12">
            <Label text="Recent Activity" styleClass="label-title" HBox.hgrow="ALWAYS"/>
            <Button text="View All" styleClass="button"/>
        </HBox>

        <VBox fx:id="activityList" spacing="12">
            <!-- Activity items will be added dynamically -->
            <HBox spacing="12" alignment="CENTER_LEFT" styleClass="activity-item">
                <Label text="&#10003;" styleClass="text-success" style="-fx-font-size: 18; -fx-font-weight: 700;"/>
                <VBox spacing="4" HBox.hgrow="ALWAYS">
                    <Label text="System ready" styleClass="label"/>
                    <Label text="Dashboard loaded successfully" styleClass="label-caption"/>
                </VBox>
            </HBox>
        </VBox>
    </VBox>

</VBox>
