<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<!--
Teachers Management View - Dark Futuristic Theme
Location: src/main/resources/fxml/Teachers.fxml
Controller: com.heronix.ui.controller.TeacherManagementController
-->

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.heronix.ui.controller.TeacherManagementController"
            styleClass="root"
            prefHeight="800" prefWidth="1200">

    <top>
        <VBox spacing="15" style="-fx-padding: 20;">
            <!-- Header Section -->
            <HBox alignment="CENTER_LEFT" spacing="15" styleClass="card">
                <Label text="ðŸ‘¨â€ðŸ« Teacher Management" styleClass="label-title"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="ðŸ¤– Auto-Assign" onAction="#handleAutoAssign" styleClass="button-info">
                    <tooltip>
                        <Tooltip text="Automatically assign courses and rooms to teachers based on certifications and subject expertise"/>
                    </tooltip>
                </Button>
                <Button text="âž• Add Teacher" onAction="#handleAddTeacher" styleClass="button-success"/>
                <Button text="ðŸ”„ Refresh" onAction="#handleRefresh" styleClass="button-primary"/>
            </HBox>

            <!-- Search and Filter Bar -->
            <HBox spacing="10" alignment="CENTER_LEFT" styleClass="card">
                <Label text="ðŸ” Search:" styleClass="label"/>
                <TextField fx:id="searchField" promptText="Name, ID, Email..."
                           prefWidth="250" onKeyReleased="#handleSearch" HBox.hgrow="ALWAYS"/>

                <Separator orientation="VERTICAL"/>

                <Label text="Filter:" styleClass="label"/>
                <ComboBox fx:id="departmentFilter" promptText="Department"
                          prefWidth="130" onAction="#handleFilter"/>
                <ComboBox fx:id="roleFilter" promptText="Role"
                          prefWidth="130" onAction="#handleFilter"/>
                <ComboBox fx:id="subjectFilter" promptText="Subject"
                          prefWidth="130" onAction="#handleFilter"/>
                <ComboBox fx:id="statusFilter" promptText="Status"
                          prefWidth="100" onAction="#handleFilter"/>
                <Button text="Clear" onAction="#handleClearFilters" styleClass="button"/>
            </HBox>
        </VBox>
    </top>

    <center>
        <!-- Teachers Table Container -->
        <VBox spacing="10" styleClass="card" minHeight="400">
            <padding>
                <Insets top="15" right="20" bottom="20" left="20"/>
            </padding>

            <!-- Selection Toolbar (populated programmatically for bulk operations) -->
            <HBox fx:id="selectionToolbar" spacing="10" alignment="CENTER_LEFT"/>

            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label text="All Teachers" styleClass="label-title"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Label fx:id="recordCountLabel" text="Total: 0" styleClass="label"/>
            </HBox>

            <TableView fx:id="teacherTable" VBox.vgrow="ALWAYS" minHeight="400" prefHeight="500">
                <columns>
                    <!-- Workload Indicator Column -->
                    <TableColumn fx:id="workloadColumn" text="â—" prefWidth="50" minWidth="50" maxWidth="50" sortable="true" style="-fx-alignment: CENTER;"/>

                    <TableColumn fx:id="idColumn" text="ID" prefWidth="50" minWidth="40"/>
                    <TableColumn fx:id="nameColumn" text="Name" prefWidth="150" minWidth="120"/>
                    <TableColumn fx:id="employeeIdColumn" text="Employee ID" prefWidth="100" minWidth="80"/>
                    <TableColumn fx:id="roleColumn" text="Role" prefWidth="100" minWidth="80"/>
                    <TableColumn fx:id="departmentColumn" text="Department" prefWidth="100" minWidth="80"/>
                    <TableColumn fx:id="subjectAreasColumn" text="Subjects" prefWidth="120" minWidth="100"/>
                    <TableColumn fx:id="emailColumn" text="Email" prefWidth="160" minWidth="140"/>
                    <TableColumn fx:id="phoneColumn" text="Phone" prefWidth="100" minWidth="90"/>
                    <TableColumn fx:id="certificationsColumn" text="Certifications" prefWidth="130" minWidth="100"/>
                    <TableColumn fx:id="assignedCoursesColumn" text="Courses" prefWidth="100" minWidth="80"/>
                    <TableColumn fx:id="maxHoursColumn" text="Max Hrs" prefWidth="70" minWidth="60"/>
                    <TableColumn fx:id="activeColumn" text="Active" prefWidth="60" minWidth="50"/>
                    <TableColumn fx:id="actionsColumn" text="Actions" prefWidth="150" minWidth="120"/>
                </columns>

                <placeholder>
                    <VBox alignment="CENTER" spacing="10">
                        <Label text="ðŸ‘¥" styleClass="label-title" style="-fx-font-size: 48;"/>
                        <Label text="No teachers found" styleClass="label-subtitle"/>
                        <Label text="Click 'Add Teacher' to create your first teacher" styleClass="label-caption"/>
                    </VBox>
                </placeholder>
            </TableView>

            <!-- Bottom Actions -->
            <HBox spacing="10" alignment="CENTER_RIGHT">
                <Button text="ðŸ“¤ Export" onAction="#handleExport" styleClass="button-warning"/>
            </HBox>
        </VBox>
    </center>

    <bottom>
        <!-- Status Bar -->
        <HBox alignment="CENTER_LEFT" spacing="10" styleClass="card" style="-fx-padding: 10;">
            <Label text="â—" styleClass="accent-success" style="-fx-font-size: 14;"/>
            <Label text="Teachers module loaded successfully" styleClass="label"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Label text="Heronix Scheduling System v1.0" styleClass="label-caption"/>
        </HBox>
    </bottom>

</BorderPane>
