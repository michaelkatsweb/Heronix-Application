<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.heronix.ui.controller.GiftedServicesEnrichmentController"
            prefWidth="1400" prefHeight="900">


    <!-- Top: Header -->
    <top>
        <VBox spacing="15" styleClass="card">
            <Label text="Gifted Services &amp; Enrichment"
                   styleClass="page-title-white"/>
            <Label text="Track pull-out sessions, enrichment activities, differentiation strategies, and talent development"
                   styleClass="text-white"/>
        </VBox>
    </top>

    <!-- Center: Main Content -->
    <center>
        <ScrollPane fitToWidth="true" styleClass="main-container">
            <VBox spacing="25" style="-fx-padding: 25;">

                <!-- Student & Service Information -->
                <VBox spacing="15" styleClass="card-white-bordered">
                    <Label text="Student &amp; Service Information" styleClass="section-title"/>

                    <GridPane hgap="15" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                        </columnConstraints>

                        <Label text="Gifted Student:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <ComboBox fx:id="giftedStudentComboBox" promptText="Select Student..." maxWidth="Infinity" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                        <Label text="Grade:" styleClass="form-label" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                        <TextField fx:id="gradeField" editable="false" GridPane.columnIndex="3" GridPane.rowIndex="0"/>

                        <Label text="Service Date:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <DatePicker fx:id="serviceDatePicker" maxWidth="Infinity" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                        <Label text="Service Type:" styleClass="form-label" GridPane.columnIndex="2" GridPane.rowIndex="1"/>
                        <ComboBox fx:id="serviceTypeComboBox" promptText="Select Type..." maxWidth="Infinity" GridPane.columnIndex="3" GridPane.rowIndex="1"/>

                        <Label text="Delivery Model:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                        <ComboBox fx:id="deliveryModelComboBox" promptText="Select Model..." maxWidth="Infinity" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                        <Label text="Duration (Minutes):" styleClass="form-label" GridPane.columnIndex="2" GridPane.rowIndex="2"/>
                        <TextField fx:id="durationMinutesField" promptText="Minutes" GridPane.columnIndex="3" GridPane.rowIndex="2"/>

                        <Label text="Service Provider:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                        <ComboBox fx:id="serviceProviderComboBox" promptText="Select Teacher..." maxWidth="Infinity" GridPane.columnIndex="1" GridPane.rowIndex="3"/>

                        <Label text="Focus Area:" styleClass="form-label" GridPane.columnIndex="2" GridPane.rowIndex="3"/>
                        <ComboBox fx:id="focusAreaComboBox" promptText="Select Focus..." maxWidth="Infinity" GridPane.columnIndex="3" GridPane.rowIndex="3"/>

                        <Label text="Location:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
                        <TextField fx:id="locationField" promptText="Room, building, etc." GridPane.columnIndex="1" GridPane.rowIndex="4"/>

                        <Label text="Service Status:" styleClass="form-label" GridPane.columnIndex="2" GridPane.rowIndex="4"/>
                        <ComboBox fx:id="serviceStatusComboBox" promptText="Select Status..." maxWidth="Infinity" GridPane.columnIndex="3" GridPane.rowIndex="4"/>
                    </GridPane>
                </VBox>

                <!-- Lesson Details -->
                <VBox spacing="15" styleClass="card-white-bordered">
                    <Label text="Lesson Details" styleClass="section-title"/>

                    <GridPane hgap="15" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="75"/>
                        </columnConstraints>

                        <Label text="Lesson Topic:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <TextField fx:id="lessonTopicField" promptText="Topic of the lesson or activity" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                        <Label text="Objectives:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <TextArea fx:id="objectivesArea" promptText="Learning objectives and goals" wrapText="true" prefRowCount="2" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                        <Label text="Activities:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                        <TextArea fx:id="activitiesArea" promptText="Enrichment activities and instructional strategies" wrapText="true" prefRowCount="3" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                    </GridPane>
                </VBox>

                <!-- Differentiation & Depth/Complexity -->
                <VBox spacing="15" styleClass="card, metric-info">
                    <Label text="Differentiation &amp; Depth/Complexity" styleClass="section-title-16-blue"/>

                    <GridPane hgap="15" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="75"/>
                        </columnConstraints>

                        <Label text="Differentiation Used:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <TextArea fx:id="differentiationUsedArea" promptText="How was instruction differentiated for this student?" wrapText="true" prefRowCount="2" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                        <Label text="Depth/Complexity Level:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <TextField fx:id="depthComplexityLevelField" promptText="e.g., Kaplan's Depth & Complexity icons" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                        <Label text="Bloom's Level:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                        <TextField fx:id="bloomLevelField" promptText="e.g., Analyze, Evaluate, Create" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                    </GridPane>
                </VBox>

                <!-- Attendance & Engagement -->
                <VBox spacing="15" styleClass="card-white-bordered">
                    <Label text="Attendance &amp; Engagement" styleClass="section-title"/>

                    <GridPane hgap="15" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                        </columnConstraints>

                        <Label text="Student Attended:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <CheckBox fx:id="studentAttendedCheckBox" text="Yes, student attended" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                        <Label text="Engagement Level:" styleClass="form-label" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                        <ComboBox fx:id="engagementLevelComboBox" promptText="Select Level..." maxWidth="Infinity" GridPane.columnIndex="3" GridPane.rowIndex="0"/>

                        <Label text="Absence Reason:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <TextField fx:id="absenceReasonField" promptText="Reason if absent" GridPane.columnIndex="1" GridPane.columnSpan="3" GridPane.rowIndex="1"/>
                    </GridPane>
                </VBox>

                <!-- Progress & Performance -->
                <VBox spacing="15" styleClass="card, metric-success">
                    <Label text="Progress &amp; Performance" styleClass="section-title-16-green"/>

                    <GridPane hgap="15" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="75"/>
                        </columnConstraints>

                        <Label text="Progress Notes:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <TextArea fx:id="progressNotesArea" promptText="Student's progress and performance during the session" wrapText="true" prefRowCount="3" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                        <Label text="Skills Demonstrated:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <TextArea fx:id="skillsDemonstratedArea" promptText="Skills the student successfully demonstrated" wrapText="true" prefRowCount="2" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                        <Label text="Performance Level:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                        <TextField fx:id="performanceLevelField" promptText="e.g., Exceeds, Meets, Emerging" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                        <Label text="Work Sample Path:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                        <TextField fx:id="studentWorkSamplePathField" promptText="File path to student work sample" GridPane.columnIndex="1" GridPane.rowIndex="3"/>
                    </GridPane>
                </VBox>

                <!-- Group Information -->
                <VBox spacing="15" styleClass="card-white-bordered">
                    <Label text="Group Information" styleClass="section-title"/>

                    <GridPane hgap="15" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="25"/>
                        </columnConstraints>

                        <Label text="Group Size:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <TextField fx:id="groupSizeField" promptText="Number of students" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                        <Label text="Peer Collaboration:" styleClass="form-label" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                        <CheckBox fx:id="peerCollaborationCheckBox" text="Peer collaboration occurred" GridPane.columnIndex="3" GridPane.rowIndex="0"/>

                        <Label text="Cross-Grade Grouping:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <CheckBox fx:id="crossGradeGroupingCheckBox" text="Cross-grade grouping" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                    </GridPane>
                </VBox>

                <!-- Materials & Resources -->
                <VBox spacing="15" styleClass="card-white-bordered">
                    <Label text="Materials &amp; Resources" styleClass="section-title"/>

                    <GridPane hgap="15" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="75"/>
                        </columnConstraints>

                        <Label text="Materials Used:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <TextArea fx:id="materialsUsedArea" promptText="Books, manipulatives, resources, etc." wrapText="true" prefRowCount="2" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                        <Label text="Technology Integration:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <TextArea fx:id="technologyIntegrationArea" promptText="Technology used and how it was integrated" wrapText="true" prefRowCount="2" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                        <Label text="Enrichment Resources:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                        <TextArea fx:id="enrichmentResourcesArea" promptText="Specialized resources for gifted learners" wrapText="true" prefRowCount="2" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                    </GridPane>
                </VBox>

                <!-- Standards & Assessment -->
                <VBox spacing="15" styleClass="card-white-bordered">
                    <Label text="Standards &amp; Assessment" styleClass="section-title"/>

                    <GridPane hgap="15" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="75"/>
                        </columnConstraints>

                        <Label text="Standards Addressed:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <TextArea fx:id="standardsAddressedArea" promptText="State or national standards addressed" wrapText="true" prefRowCount="2" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                        <Label text="Assessment:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <CheckBox fx:id="assessmentAdministeredCheckBox" text="Assessment Administered During Session" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                        <Label text="Assessment Results:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                        <TextArea fx:id="assessmentResultsArea" promptText="Assessment results and observations" wrapText="true" prefRowCount="2" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                    </GridPane>
                </VBox>

                <!-- Extension Activities & Follow-up -->
                <VBox spacing="15" styleClass="card">
                    <Label text="Extension Activities &amp; Follow-up" styleClass="section-title-16-purple"/>

                    <GridPane hgap="15" vgap="15">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="25"/>
                            <ColumnConstraints percentWidth="75"/>
                        </columnConstraints>

                        <Label text="Extension Activity:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <CheckBox fx:id="extensionActivityAssignedCheckBox" text="Extension activity assigned" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                        <Label text="Extension Description:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <TextField fx:id="extensionActivityDescriptionField" promptText="Description of extension activity" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                        <Label text="Follow-up Needed:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                        <CheckBox fx:id="followUpNeededCheckBox" text="Follow-up required" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                        <Label text="Follow-up Notes:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                        <TextArea fx:id="followUpNotesArea" promptText="Actions needed, areas to revisit, next steps" wrapText="true" prefRowCount="2" GridPane.columnIndex="1" GridPane.rowIndex="3"/>
                    </GridPane>
                </VBox>

            </VBox>
        </ScrollPane>
    </center>

    <!-- Bottom: Action Buttons -->
    <bottom>
        <HBox spacing="15" alignment="CENTER_RIGHT" styleClass="footer-white-border">
            <Button fx:id="saveButton" text="Save" onAction="#handleSave"
                    styleClass="button-primary"/>
            <Button fx:id="cancelButton" text="Cancel" onAction="#handleCancel"
                    styleClass="header-danger"/>
        </HBox>
    </bottom>

</BorderPane>
