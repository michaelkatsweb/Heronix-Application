<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>

<VBox xmlns="http://javafx.com/javafx/21"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.heronix.ui.controller.SectionManagementDialogController"
      prefWidth="900"
      prefHeight="700"
      styleClass="wizard-card">

    <!-- Header -->
    <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-padding: 0 0 20 0;">
        <Label fx:id="titleLabel" text="Manage Course Sections"
               styleClass="dialog-title-20-slate"/>
        <Region HBox.hgrow="ALWAYS"/>
        <Label fx:id="courseInfoLabel" text="Course: Loading..."
               styleClass="text-muted"/>
    </HBox>

    <!-- Summary Bar -->
    <HBox alignment="CENTER_LEFT" spacing="20" styleClass="card">
        <VBox alignment="CENTER_LEFT" spacing="3">
            <Label text="Total Sections:" styleClass="text-muted"/>
            <Label fx:id="totalSectionsLabel" text="0" styleClass="section-title"/>
        </VBox>
        <Separator orientation="VERTICAL"/>
        <VBox alignment="CENTER_LEFT" spacing="3">
            <Label text="Total Enrollment:" styleClass="text-muted"/>
            <Label fx:id="totalEnrollmentLabel" text="0/0" styleClass="section-title"/>
        </VBox>
        <Separator orientation="VERTICAL"/>
        <VBox alignment="CENTER_LEFT" spacing="3">
            <Label text="Available Seats:" styleClass="text-muted"/>
            <Label fx:id="availableSeatsLabel" text="0" styleClass="stat-value-16-green-accent"/>
        </VBox>
        <Region HBox.hgrow="ALWAYS"/>
        <Button fx:id="addSectionButton" text="+ Add Section" onAction="#handleAddSection"
                styleClass="button-primary"/>
    </HBox>

    <!-- Sections Table -->
    <TableView fx:id="sectionsTable" VBox.vgrow="ALWAYS" styleClass="border-light-gray">
        <columns>
            <TableColumn fx:id="sectionNumberColumn" text="Section #" prefWidth="80" minWidth="60"/>
            <TableColumn fx:id="teacherColumn" text="Teacher" prefWidth="180" minWidth="150"/>
            <TableColumn fx:id="roomColumn" text="Room" prefWidth="100" minWidth="80"/>
            <TableColumn fx:id="periodColumn" text="Period" prefWidth="80" minWidth="60"/>
            <TableColumn fx:id="enrollmentColumn" text="Enrollment" prefWidth="120" minWidth="100"/>
            <TableColumn fx:id="capacityColumn" text="Capacity" prefWidth="100" minWidth="80"/>
            <TableColumn fx:id="statusColumn" text="Status" prefWidth="120" minWidth="100"/>
            <TableColumn fx:id="actionsColumn" text="Actions" prefWidth="120" minWidth="100"/>
        </columns>
        <placeholder>
            <VBox alignment="CENTER" spacing="10" style="-fx-padding: 40;">
                <Label text="No sections created yet" styleClass="text-muted"/>
                <Label text="Click 'Add Section' to create the first section" styleClass="text-muted"/>
            </VBox>
        </placeholder>
    </TableView>

    <!-- Button Bar -->
    <ButtonBar style="-fx-padding: 15 0 0 0;">
        <buttons>
            <Button text="Close" onAction="#handleClose"
                    styleClass="button-primary"/>
        </buttons>
    </ButtonBar>

</VBox>
