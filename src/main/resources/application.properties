# ============================================================================
# FILE: application.properties
# LOCATION: src/main/resources/application.properties
# PURPOSE: Production configuration for Heronix Scheduling System
# ============================================================================

# ============================================================================
# APPLICATION INFO
# ============================================================================
spring.application.name=Heronix Scheduling System

# ============================================================================
# PORT CONFIGURATION (Multi-port fallback support)
# ============================================================================
# Primary port: 9580 (Custom port for Heronix - easy to remember: 95=grade A, 80=web)
# Avoids conflicts with common services (8080, 3000, etc.)
# Fallback ports: 9581, 9582 configured in client.fallback-servers below
# Legacy fallback: 8080 (for backward compatibility)
server.port=9580

# ============================================================================
# DATABASE CONFIGURATION (H2 for development, PostgreSQL for production)
# ============================================================================
# Use MODE=LEGACY for H2 2.x compatibility with existing databases
# IFEXISTS=FALSE creates database if it doesn't exist
spring.datasource.url=jdbc:h2:file:./data/heronix;AUTO_SERVER=TRUE;MODE=LEGACY;IFEXISTS=FALSE;WRITE_DELAY=0
spring.datasource.driver-class-name=org.h2.Driver
# Credentials now use environment variables (see Security Configuration section below)
spring.datasource.username=${DB_USERNAME:sa}
spring.datasource.password=${DB_PASSWORD:}

# ============================================================================
# FLYWAY CONFIGURATION
# ============================================================================
# Disable Flyway - using Hibernate DDL management instead
spring.flyway.enabled=false

# ============================================================================
# JPA/HIBERNATE CONFIGURATION
# ============================================================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# ============================================================================
# H2 CONSOLE (for database inspection)
# ============================================================================
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.h2.console.settings.web-allow-others=false

# ============================================================================
# OPTAPLANNER AI CONFIGURATION (CRITICAL)
# ============================================================================

# Solver configuration file location
optaplanner.solver-config-xml=solverConfig.xml

# Termination configuration
optaplanner.solver.termination.spent-limit=5m
optaplanner.solver.termination.unimproved-spent-limit=60s
optaplanner.solver.termination.best-score-limit=0hard/0soft

# Environment mode (REPRODUCIBLE for debugging, FAST_ASSERT for production)
optaplanner.solver.environment-mode=FAST_ASSERT

# Daemon mode (async solving)
optaplanner.solver.daemon=true

# Solver manager configuration
optaplanner.solver-manager.parallel-solver-count=AUTO

# Move thread count (parallel move evaluation)
optaplanner.solver.move-thread-count=AUTO

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
logging.level.root=INFO
logging.level.com.heronix=INFO
logging.level.org.optaplanner=INFO
logging.level.org.springframework=INFO
logging.level.org.hibernate.SQL=WARN

# Log file configuration
logging.file.name=logs/heronix.log
logging.file.max-size=10MB
logging.file.max-history=30

# Log pattern
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# ============================================================================
# HERONIX-SCHEDULERV2 INTEGRATION (Optional Add-On)
# ============================================================================
# Enable this feature only if you have purchased Heronix-SchedulerV2
# Provides advanced automated schedule generation capabilities

# Enable/disable Heronix-SchedulerV2 integration
# Default: false (disabled unless explicitly enabled with valid license)
heronix.scheduler.enabled=false

# License key for Heronix-SchedulerV2 (required when enabled=true)
# Contact your Heronix representative to obtain a license key
# heronix.scheduler.license-key=YOUR-LICENSE-KEY-HERE

# URL where Heronix-SchedulerV2 is running
# Examples: http://localhost:8090, https://scheduler.yourschool.edu
heronix.scheduler.url=http://localhost:8090

# Port where Heronix-SchedulerV2 listens (for availability detection)
heronix.scheduler.port=8090

# Integration mode:
# SHARED_DB  - Both applications share the same database
# API        - SchedulerV2 calls SIS REST APIs to fetch data (recommended)
# IMPORT     - Data is exported from SIS and imported into SchedulerV2 (CSV/JSON)
# SYNC       - Real-time synchronization between systems
heronix.scheduler.mode=API

# Authentication mode:
# SSO        - Single sign-on with token passing (seamless user experience)
# SEPARATE   - Separate login for SchedulerV2 (more secure for multi-tenant)
heronix.scheduler.auth-mode=SSO

# SSO token secret for secure token generation (required when auth-mode=SSO)
# IMPORTANT: Change this to a strong random secret in production!
# heronix.scheduler.sso-token-secret=CHANGE-THIS-TO-A-STRONG-SECRET

# SSO token expiration in seconds (default: 3600 = 1 hour)
heronix.scheduler.sso-token-expiration=3600

# Enable automatic data synchronization (only applies when mode=SYNC)
heronix.scheduler.auto-sync=false

# Sync interval in seconds (default: 300 = 5 minutes)
heronix.scheduler.sync-interval=300

# Health check endpoint for SchedulerV2 availability detection
heronix.scheduler.health-check-endpoint=/api/health

# SchedulerV2 Auto-Start (launches SchedulerV2 as subprocess if not running)
heronix.scheduler.auto-start.enabled=true
heronix.scheduler.auto-start.jar-path=../Heronix-SchedulerV2/target/heronix-scheduler.jar
heronix.scheduler.auto-start.startup-timeout=30

# Connection timeout in milliseconds (default: 5000 = 5 seconds)
heronix.scheduler.connection-timeout=5000

# ============================================================================
# FILE UPLOAD CONFIGURATION
# ============================================================================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB

# ============================================================================
# JACKSON JSON CONFIGURATION
# ============================================================================
spring.jackson.serialization.indent-output=true
spring.jackson.serialization.fail-on-empty-beans=false
spring.jackson.deserialization.fail-on-unknown-properties=false

# ============================================================================
# TRANSACTION CONFIGURATION
# ============================================================================
spring.jpa.properties.hibernate.connection.autocommit=false
spring.jpa.open-in-view=false

# ============================================================================
# THREAD POOL CONFIGURATION
# ============================================================================
spring.task.execution.pool.core-size=4
spring.task.execution.pool.max-size=16
spring.task.execution.pool.queue-capacity=100
spring.task.execution.thread-name-prefix=heronix-

# ============================================================================
# APPLICATION-SPECIFIC SETTINGS
# ============================================================================

# Schedule generation settings
heronix.schedule.default-class-duration=50
heronix.schedule.default-break-duration=5
heronix.schedule.default-lunch-duration=30
heronix.schedule.default-start-time=08:00
heronix.schedule.default-end-time=15:00

# Import settings
heronix.import.max-batch-size=1000
heronix.import.lenient-mode=true
heronix.import.auto-generate-ids=true

# Conflict detection settings
heronix.conflict.check-teacher-conflicts=true
heronix.conflict.check-room-conflicts=true
heronix.conflict.check-student-conflicts=true
heronix.conflict.max-teacher-consecutive-hours=5

# Cache settings
spring.cache.type=simple
spring.cache.cache-names=teachers,courses,rooms,students,schedules

# ============================================================================
# PRODUCTION OVERRIDES (use application-prod.properties)
# ============================================================================
# spring.profiles.active=prod

# application.properties

# Export directory (default: ~/Heronix/Exports)
heronix.export.directory=${user.home}/Heronix/Exports

# Duty roster default times
heronix.duty.am.start=07:30
heronix.duty.am.end=08:00
heronix.duty.pm.start=15:30
heronix.duty.pm.end=16:00

# Print settings
heronix.print.default.orientation=LANDSCAPE
heronix.print.default.paperSize=LETTER

# ============================================================================
# OLLAMA AI CONFIGURATION (Local LLM)
# ============================================================================
# Enable/disable Ollama AI features
ai.ollama.enabled=true

# Ollama server URL (default: localhost)
ai.ollama.base-url=http://localhost:11434

# Default model to use (must be downloaded via: ollama pull mistral:7b-instruct)
ai.ollama.model=mistral:7b-instruct

# Request timeout in milliseconds
ai.ollama.timeout=60000

# Background analysis (automatic schedule health checks)
ai.ollama.background-analysis.enabled=true
ai.ollama.background-analysis.interval=600000

# ============================================================================
# QR CODE & FACIAL RECOGNITION ATTENDANCE SYSTEM
# ============================================================================
# System enable/disable
qr.attendance.enabled=true
facial.recognition.enabled=true

# Mock mode (for development/testing without real facial recognition API)
facial.recognition.mock.enabled=true

# Facial recognition provider (MOCK, OPENCV, AWS, AZURE, GOOGLE)
facial.recognition.provider=MOCK

# Confidence threshold for auto-verification (0.0 to 1.0)
# Higher = stricter matching, Lower = more permissive
facial.recognition.confidence.threshold=0.85

# Duplicate scan prevention window (minutes)
qr.attendance.duplicate.window.minutes=5

# Require photo capture on every scan
qr.attendance.require.photo=true

# ============================================================================
# HALL PASS SYSTEM
# ============================================================================
# Hall pass enable/disable
hall.pass.enabled=true

# Maximum allowed duration before overdue (minutes)
hall.pass.max.duration.minutes=15

# Enable overdue alerts
hall.pass.overdue.alert.enabled=true

# ============================================================================
# PERIOD TIMER SYSTEM
# ============================================================================
# Period timer enable/disable
period.timer.enabled=true

# Auto mark absent after attendance window closes
period.timer.auto.mark.absent=true

# Default attendance window from period start (minutes)
period.timer.attendance.window.minutes=15

# ============================================================================
# PARENT/STUDENT NOTIFICATION SYSTEM
# ============================================================================
# Enable parent notifications
notification.parent.enabled=true

# Enable student portal notifications
notification.student.enabled=true

# Real-time attendance notifications
notification.attendance.realtime=true

# Hall pass departure/return notifications
notification.hallpass.enabled=true

# ============================================================================
# CLIENT APPLICATION CONFIGURATION
# ============================================================================
# These settings are automatically sent to all client applications
# (EduPro-Student, EduPro-Teacher)
# Edit these once - applies to all computers automatically!

# Primary server URL (clients will connect to this)
# Using custom port 9590 to avoid conflicts with common applications
# Examples:
#   http://192.168.1.100:9590  (Local network)
#   https://heronix.school.edu  (Internet)
heronix.client.server-url=http://localhost:9590

# Fallback servers (comma-separated, optional)
# If primary fails, clients will automatically try these in order
# Port sequence: 9590 → 9591 → 9592
heronix.client.fallback-servers=http://localhost:9591,http://localhost:9592

# API base path
heronix.client.api-base-path=/api

# Connection settings
heronix.client.connection-timeout=10000
heronix.client.read-timeout=30000
heronix.client.max-retries=3
heronix.client.retry-delay=2

# Network mode (AUTO, ONLINE_ONLY, OFFLINE_ONLY, HYBRID)
# AUTO = recommended for most deployments
heronix.client.network-mode=AUTO

# Offline mode
heronix.client.offline-mode-enabled=true
heronix.client.auto-sync-enabled=true
heronix.client.sync-interval=60

# Proxy settings (if your school uses a proxy)
heronix.client.proxy-enabled=false
heronix.client.proxy-host=
heronix.client.proxy-port=0

# Security settings
heronix.client.require-https=false

# ============================================================================
# SCHOOL INFORMATION
# ============================================================================
# This information is sent to all clients

heronix.school.name=Lincoln High School
heronix.school.district=Lincoln County School District
heronix.school.code=LINCOLN_HS

# IT Department contact information
heronix.it.contact-email=it@lincolnhs.edu
heronix.it.contact-phone=(555) 123-4567

# Environment (PRODUCTION, TESTING, DEVELOPMENT)
heronix.client.environment=PRODUCTION
# ============================================================================
# ACTUATOR CONFIGURATION (Health checks and monitoring)
# ============================================================================
# Enable all actuator endpoints (Quick Win #1)
management.endpoints.web.exposure.include=health,info,metrics,prometheus,env,loggers
# Health endpoint details (always show for all users)
management.endpoint.health.show-details=always
management.endpoint.health.show-components=always
# Base path for actuator endpoints
management.endpoints.web.base-path=/actuator

# Health indicators
management.health.defaults.enabled=true
management.health.diskspace.enabled=true
management.health.db.enabled=true

# Info endpoint (enable environment property reading)
management.info.env.enabled=true
info.app.name=Heronix Scheduling System
info.app.version=1.0.0
info.app.description=AI-Powered School Scheduling System
info.app.java-version=21
info.app.build-date=2025-12-16

# Metrics configuration
management.metrics.enable.jvm=true
management.metrics.enable.process=true
management.metrics.enable.system=true
management.metrics.enable.http=true
management.metrics.distribution.percentiles-histogram.http.server.requests=true

# Common tags for all metrics (using new observation API)
management.observations.key-values.application=${spring.application.name}
management.observations.key-values.environment=${heronix.client.environment:DEVELOPMENT}

# ============================================================================
# SECURITY CONFIGURATION (Quick Win #3 - Externalized Secrets)
# ============================================================================
# Database credentials are configured above in DATABASE CONFIGURATION section

# JWT Configuration (use environment variables in production)
jwt.secret=${JWT_SECRET_KEY:default-dev-secret-key-CHANGE-IN-PRODUCTION-minimum-256-bits}
jwt.expiration=${JWT_EXPIRATION_MS:3600000}

# Admin credentials (use environment variables in production)
admin.default.username=${ADMIN_USERNAME:admin}
admin.default.password=${ADMIN_PASSWORD:admin}

# ============================================================================
# SSL/TLS CONFIGURATION (Enable in production)
# ============================================================================
# Uncomment for HTTPS in production:
# server.ssl.enabled=true
# server.ssl.key-store=classpath:keystore.p12
# server.ssl.key-store-password=${SSL_KEY_STORE_PASSWORD}
# server.ssl.key-store-type=PKCS12
# server.ssl.key-alias=heronix

# ============================================================================
# CORS CONFIGURATION
# ============================================================================
# Allowed origins (comma-separated)
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:9590,http://localhost:9591,http://localhost:3000}
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=*
cors.allow-credentials=true
cors.max-age=3600

# ============================================================================
# SPRINGDOC OPENAPI (SWAGGER UI) CONFIGURATION (Quick Win #6)
# ============================================================================
# API documentation path
springdoc.api-docs.path=/api-docs
# Swagger UI path
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=true
# Sort operations by HTTP method
springdoc.swagger-ui.operationsSorter=method
# Enable try-it-out by default
springdoc.swagger-ui.tryItOutEnabled=true
# API info
springdoc.api-docs.groups.enabled=true

# ============================================================================
# JWT AUTHENTICATION CONFIGURATION (Phase 42-43)
# ============================================================================
# JWT secret key for token signing (minimum 32 characters)
# IMPORTANT: Override with secure random value in production using environment variable
jwt.secret=${JWT_SECRET:heronix-secret-key-minimum-32-characters-required-for-security-change-in-production}
# Access token validity in hours (default: 1 hour)
jwt.access-token-validity=1
# Refresh token validity in days (default: 7 days)
jwt.refresh-token-validity=7

# ============================================================================
# API CLIENT CONFIGURATION (Phase 46)
# ============================================================================
# API base URL for desktop client
api.base-url=${API_BASE_URL:http://localhost:9590}
# Connection timeout in seconds
api.connect-timeout=10
# Read timeout in seconds
api.read-timeout=30
# Enable API authentication (set to false to use local authentication only)
api.authentication.enabled=true

# ============================================================================
# API RATE LIMITING CONFIGURATION (Phase 44)
# ============================================================================
# Default rate limit for authenticated users (requests per hour)
api.ratelimit.default=1000
# Rate limit for unauthenticated requests (requests per hour)
api.ratelimit.unauthenticated=100
# Maximum rate limit allowed for API keys (requests per hour)
api.ratelimit.max=10000

# ============================================================================
# REPORT CACHING CONFIGURATION (Phase 55)
# ============================================================================
# Enable report caching
report.cache.enabled=true
# Cache TTL in minutes
report.cache.ttl-minutes=15
# Max in-memory cache entries
report.cache.max-entries=100
# Max memory cache size per report (bytes) - reports larger than this use file cache
report.cache.max-memory-size=1048576
# Cache cleanup interval (milliseconds) - 30 minutes
report.cache.cleanup-interval=1800000
# Cache statistics logging interval (milliseconds) - 1 hour
report.cache.stats-interval=3600000

# ============================================================================
# REPORT ANALYTICS CONFIGURATION (Phase 59)
# ============================================================================
# Enable analytics features
report.analytics.enabled=true
# Default date range for analytics (days)
report.analytics.default-range-days=30
# Maximum date range allowed for analytics queries (days)
report.analytics.max-range-days=365
# Top absentees list size (default)
report.analytics.top-absentees-limit=10
# Trend detection threshold (percentage points difference to classify as improving/declining)
report.analytics.trend-threshold=2.0
# Attendance rate thresholds for risk levels
report.analytics.risk.critical=80.0
report.analytics.risk.high=85.0
report.analytics.risk.moderate=90.0
# Enable day-of-week pattern analysis
report.analytics.analyze-day-patterns=true
# Enable grade-level comparisons
report.analytics.grade-comparison=true

# ============================================================================
# BATCH REPORT EXPORT CONFIGURATION (Phase 61)
# ============================================================================
# Enable batch export functionality
report.batch.enabled=true
# Maximum number of reports in a single batch
report.batch.max-reports=50
# Maximum batch size in MB
report.batch.max-size-mb=100
# Include manifest file in batch exports
report.batch.include-manifest=true
# Include summary file in batch exports
report.batch.include-summary=true
# Include error log file (when applicable)
report.batch.include-error-log=true
# ZIP compression level (0-9, higher = more compression)
report.batch.compression-level=6
# Batch export timeout (minutes)
report.batch.timeout-minutes=30
# Enable parallel report generation in batches
report.batch.parallel-generation=true
# Number of parallel threads for batch generation
report.batch.parallel-threads=4

# ============================================================================
# NOTIFICATION CONFIGURATION (Phase 62)
# ============================================================================
# Enable notification system
notification.enabled=true
# Notification retention period (days)
notification.retention-days=30
# Auto-cleanup cron expression (daily at 2 AM)
notification.cleanup.cron=0 0 2 * * ?
# Enable real-time WebSocket notifications
notification.websocket.enabled=true
# Enable email notifications
notification.email.enabled=true
# Email notification batch size
notification.email.batch-size=10
# Notification priority thresholds
notification.priority.urgent.enabled=true
notification.priority.high.enabled=true
# Alert thresholds for attendance
notification.threshold.attendance.critical=80.0
notification.threshold.attendance.warning=85.0
notification.threshold.absenteeism.chronic=10.0

# ============================================================================
# SYSTEM HEALTH MONITORING CONFIGURATION (Phase 63)
# ============================================================================
# Enable system health monitoring
health.monitoring.enabled=true
# Metrics collection interval (milliseconds) - 5 minutes
health.monitoring.collection-interval=300000
# Metrics retention period (hours)
health.monitoring.retention-hours=24
# Performance thresholds
health.threshold.memory.warning=75.0
health.threshold.memory.critical=90.0
health.threshold.cpu.warning=5.0
health.threshold.cpu.critical=8.0

# ============================================================================
# AUDIT LOGGING CONFIGURATION (Phase 64)
# ============================================================================
# Enable audit logging
audit.logging.enabled=true
# Audit log retention period (days) - FERPA requires 7 years minimum
audit.logging.retention-days=2555
# Enable async audit logging
audit.logging.async=true
# Log report access events
audit.logging.report-access=true
# Log configuration changes
audit.logging.config-changes=true

# ============================================================================
# ASYNC REPORT GENERATION CONFIGURATION (Phase 55)
# ============================================================================
# Thread pool core size for report generation
report.async.core-pool-size=5
# Thread pool max size for report generation
report.async.max-pool-size=10
# Thread pool queue capacity
report.async.queue-capacity=25
# Thread keep-alive time (seconds)
report.async.keep-alive-seconds=60

# ============================================================================
# REPORT PAGINATION CONFIGURATION (Phase 55)
# ============================================================================
# Default page size for report history
report.pagination.default-page-size=50
# Maximum page size allowed
report.pagination.max-page-size=500

# ============================================================================
# EMAIL CONFIGURATION (Phase 56)
# ============================================================================
# Enable/disable email functionality
email.enabled=false

# SMTP Configuration
spring.mail.host=${SMTP_HOST:smtp.gmail.com}
spring.mail.port=${SMTP_PORT:587}
spring.mail.username=${SMTP_USERNAME:noreply@heronix.com}
spring.mail.password=${SMTP_PASSWORD:}

# SMTP Properties
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# Email Sender Information
spring.mail.properties.mail.smtp.from=${SMTP_FROM:noreply@heronix.com}
email.from-name=Heronix Student Information System

# Default recipient for system notifications
email.default-recipient=${EMAIL_DEFAULT_RECIPIENT:admin@heronix.com}

# Email notification settings
email.report.auto-send=false
email.report.notification-enabled=true

# Email retry configuration
email.retry.max-attempts=3
email.retry.delay-seconds=5

# ============================================================================
# SCHEDULED REPORT GENERATION CONFIGURATION (Phase 57)
# ============================================================================
# Enable/disable scheduled report generation
report.scheduling.enabled=true

# Cron expression for checking scheduled reports (default: every minute)
report.scheduling.cron=0 * * * * ?

# Maximum consecutive failures before auto-disabling schedule
report.scheduling.max-failures=5

# Default execution time if not specified (HH:mm format)
report.scheduling.default-time=08:00

# Enable automatic retry on failure
report.scheduling.retry-enabled=true

# Retry delay in minutes
report.scheduling.retry-delay-minutes=5

# ============================================================================
# REPORT EXPORT FORMATS CONFIGURATION (Phase 58)
# ============================================================================
# Enable CSV export format
report.export.csv.enabled=true

# CSV encoding (UTF-8 with BOM for Excel compatibility)
report.export.csv.encoding=UTF-8
report.export.csv.include-bom=true

# CSV delimiter
report.export.csv.delimiter=,

# CSV quote character
report.export.csv.quote-char="

# Default export format (EXCEL, PDF, CSV)
report.export.default-format=EXCEL

# Maximum file size for reports (bytes) - 50MB
report.export.max-file-size=52428800

# ============================================================================
# ENHANCED SCHEDULING & AUTOMATION CONFIGURATION (Phase 65)
# ============================================================================
# Enable enhanced scheduling system
scheduling.enhanced.enabled=true

# Schedule execution check interval (cron format)
scheduling.check.cron=0 * * * * ?

# Default maximum retry attempts for failed schedules
scheduling.default.max-retries=3

# Default retry delay in minutes
scheduling.default.retry-delay-minutes=5

# Default timezone for schedule execution
scheduling.default.timezone=America/New_York

# Enable email notifications for schedule events
scheduling.notifications.enabled=true

# Notify on successful execution
scheduling.notifications.on-success=false

# Notify on failed execution
scheduling.notifications.on-failure=true

# Maximum number of schedules per user
scheduling.max-schedules-per-user=50

# Maximum execution history to retain per schedule
scheduling.history.max-records=1000

# Automatic cleanup of old execution history (days)
scheduling.history.retention-days=90

# Enable schedule execution history cleanup
scheduling.history.cleanup.enabled=true

# Cleanup schedule (daily at 3 AM)
scheduling.history.cleanup.cron=0 0 3 * * ?

# Enable concurrent schedule execution
scheduling.concurrent.enabled=true

# Maximum concurrent schedule executions
scheduling.concurrent.max-threads=10

# Queue size for pending schedule executions
scheduling.concurrent.queue-size=100

# ============================================================================
# PERFORMANCE OPTIMIZATION & CACHING CONFIGURATION (Phase 67)
# ============================================================================
# Enable performance optimization features
performance.optimization.enabled=true

# Enable in-memory caching
cache.enabled=true

# Cache maximum size (entries)
cache.max-size=1000

# Cache TTL in seconds (default: 1 hour)
cache.ttl-seconds=3600

# Cache cleanup interval in seconds (default: 5 minutes)
cache.cleanup-interval-seconds=300

# Enable cache statistics
cache.statistics.enabled=true

# Log cache hits/misses
cache.logging.enabled=false

# Cache eviction policy (LRU, LFU, TTL, FIFO)
cache.eviction-policy=LRU

# Query result caching
cache.query-results.enabled=true
cache.query-results.ttl-seconds=1800

# Chart data caching
cache.chart-data.enabled=true
cache.chart-data.ttl-seconds=3600

# Report data caching
cache.report-data.enabled=true
cache.report-data.ttl-seconds=3600

# Statistics caching
cache.statistics.ttl-seconds=600

# Enable cache compression
cache.compression.enabled=false

# Cache warm-up on startup
cache.warmup.enabled=false

# ============================================================================
# RECORD LOCKING CONFIGURATION (Phase 68)
# ============================================================================
# Prevents concurrent editing conflicts in multi-user environments
# When a user opens a record, others see a warning showing who has it locked

# Enable/disable record locking
record.lock.enabled=true

# Lock timeout in minutes (auto-release if no heartbeat)
record.lock.timeout-minutes=15

# Heartbeat interval - clients should send heartbeat at this interval
record.lock.heartbeat-interval-minutes=2

# Maximum locks a single user can hold simultaneously
record.lock.max-locks-per-user=10

# Cleanup interval for expired locks (milliseconds)
record.lock.cleanup-interval-ms=60000

# Enable WebSocket notifications for lock changes
record.lock.websocket-notifications=true

# Allow admins to force-release locks
record.lock.admin-force-release=true
