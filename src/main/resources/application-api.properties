# ============================================================================
# FILE: application-api.properties
# LOCATION: src/main/resources/application-api.properties
# PURPOSE: Configuration for Heronix SIS REST API Server (headless mode)
# ============================================================================
# This profile is used when running the API server separately from the
# JavaFX desktop application. Both can run simultaneously on different ports.
#
# Usage: mvn spring-boot:run -Dspring.profiles.active=api
# Or:    java -jar heronix-sis.jar --spring.profiles.active=api
# ============================================================================

# ============================================================================
# PORT CONFIGURATION
# ============================================================================
# API Server uses port 9585 (different from desktop app's 9580 and SIS-Server's 9590)
# This allows all three to run simultaneously:
#   - Desktop App (JavaFX): port 9580
#   - API Server (Headless): port 9585
#   - SIS-Server (Enterprise): port 9590
server.port=9585

# ============================================================================
# APPLICATION INFO
# ============================================================================
spring.application.name=Heronix SIS API Server

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# Share the same database as the desktop app
# AUTO_SERVER=TRUE allows multiple connections to H2
spring.datasource.url=jdbc:h2:file:./data/heronix;AUTO_SERVER=TRUE;MODE=LEGACY;IFEXISTS=FALSE

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
# Use separate log file for API server
logging.file.name=logs/heronix-api.log

# ============================================================================
# CLIENT CONFIGURATION UPDATE
# ============================================================================
# Update client config to point to API server port
heronix.client.server-url=http://localhost:9585
api.base-url=http://localhost:9585

# ============================================================================
# CORS CONFIGURATION
# ============================================================================
# Allow connections from both desktop and API ports
cors.allowed-origins=http://localhost:9590,http://localhost:9591,http://localhost:3000

# ============================================================================
# API SERVER SPECIFIC SETTINGS
# ============================================================================
# This is a headless API server - no UI components
heronix.api.mode=HEADLESS
heronix.api.desktop-ui.enabled=false

# ============================================================================
# ACTUATOR ENDPOINTS
# ============================================================================
# Enable all actuator endpoints for monitoring
management.endpoints.web.exposure.include=health,info,metrics,prometheus,env,loggers
management.endpoint.health.show-details=always
