# ============================================================================
# EXAMPLE CONFIGURATION: Heronix-SIS with SchedulerV2 Integration
# ============================================================================
# This file shows how to configure Heronix-SIS when you have purchased
# and installed Heronix-SchedulerV2 add-on for schedule generation.
#
# INSTRUCTIONS:
# 1. Copy the SchedulerV2 settings below to your application.properties
# 2. Replace YOUR-LICENSE-KEY-HERE with your actual license key
# 3. Replace YOUR-STRONG-SECRET with a strong random secret (min 32 chars)
# 4. Adjust URLs/ports if SchedulerV2 is on a different server
# 5. Restart Heronix-SIS
#
# ============================================================================

# ============================================================================
# HERONIX-SCHEDULERV2 INTEGRATION
# ============================================================================

# Enable SchedulerV2 integration
heronix.scheduler.enabled=true

# Your SchedulerV2 license key (provided by Heronix Sales)
# IMPORTANT: Keep this secure! Do not commit to version control.
# Better practice: Use environment variable ${SCHEDULER_LICENSE_KEY}
heronix.scheduler.license-key=YOUR-LICENSE-KEY-HERE

# URL where SchedulerV2 is running
# Examples:
# - Same server: http://localhost:9090
# - Different server: http://scheduler-server:9090
# - Production with HTTPS: https://scheduler.yourschool.edu
heronix.scheduler.url=http://localhost:9090

# Port for availability detection
heronix.scheduler.port=9090

# ============================================================================
# INTEGRATION MODE
# ============================================================================
# Choose based on your deployment:
#
# API (Recommended for most deployments):
#   - SchedulerV2 calls SIS REST APIs to fetch data
#   - Clean separation, easy to deploy across servers
#   - Requires API key configuration (see below)
#
# SHARED_DB (For single-server deployments):
#   - Both apps share the same database
#   - Fastest data access, no API calls needed
#   - Both apps must be on same database server
#
# IMPORT (For occasional schedule generation):
#   - Export data from SIS as CSV/JSON
#   - Import into SchedulerV2 manually
#   - Good for once-per-semester scheduling
#
# SYNC (For highly integrated environments):
#   - Real-time bidirectional synchronization
#   - Changes in one system reflect in the other
#   - Requires both apps always running
#
heronix.scheduler.mode=API

# ============================================================================
# AUTHENTICATION MODE
# ============================================================================
# Choose based on security requirements:
#
# SSO (Recommended for single-tenant):
#   - Single Sign-On with JWT tokens
#   - Best user experience (no re-login)
#   - Users log into SIS, seamlessly access SchedulerV2
#   - Requires shared secret between applications
#
# SEPARATE (For multi-tenant or high-security):
#   - Users log into each application independently
#   - More secure, separate user bases possible
#   - Users must remember separate credentials
#
heronix.scheduler.auth-mode=SSO

# ============================================================================
# SSO CONFIGURATION (Required when auth-mode=SSO)
# ============================================================================

# SSO token secret - MUST be same in both SIS and SchedulerV2!
# IMPORTANT: Change this to a strong random value!
# Generate with: openssl rand -base64 32
# Better practice: Use environment variable ${SCHEDULER_SSO_SECRET}
heronix.scheduler.sso-token-secret=YOUR-STRONG-SECRET-HERE-MINIMUM-32-CHARACTERS

# Token expiration in seconds (3600 = 1 hour)
# Shorter = more secure, Longer = better UX
heronix.scheduler.sso-token-expiration=3600

# ============================================================================
# REAL-TIME SYNC CONFIGURATION (Only for mode=SYNC)
# ============================================================================

# Enable automatic synchronization
heronix.scheduler.auto-sync=true

# Sync interval in seconds (300 = 5 minutes)
# Shorter = more real-time, Longer = less load
heronix.scheduler.sync-interval=300

# ============================================================================
# ADVANCED SETTINGS
# ============================================================================

# Health check endpoint (default is fine for most cases)
heronix.scheduler.health-check-endpoint=/api/health

# Connection timeout in milliseconds (5000 = 5 seconds)
# Increase if SchedulerV2 is on slow network
heronix.scheduler.connection-timeout=5000

# ============================================================================
# DEPLOYMENT SCENARIOS
# ============================================================================

# ----------------------------------------------------------------------------
# Scenario 1: Both apps on same server, API integration, SSO
# ----------------------------------------------------------------------------
# heronix.scheduler.enabled=true
# heronix.scheduler.license-key=YOUR-KEY
# heronix.scheduler.url=http://localhost:9090
# heronix.scheduler.mode=API
# heronix.scheduler.auth-mode=SSO
# heronix.scheduler.sso-token-secret=YOUR-SECRET

# ----------------------------------------------------------------------------
# Scenario 2: Different servers, shared database, separate auth
# ----------------------------------------------------------------------------
# heronix.scheduler.enabled=true
# heronix.scheduler.license-key=YOUR-KEY
# heronix.scheduler.url=https://scheduler.yourschool.edu
# heronix.scheduler.mode=SHARED_DB
# heronix.scheduler.auth-mode=SEPARATE
# (Both apps configured to use same database in their datasource settings)

# ----------------------------------------------------------------------------
# Scenario 3: Production with HTTPS, API, SSO, real-time sync
# ----------------------------------------------------------------------------
# heronix.scheduler.enabled=true
# heronix.scheduler.license-key=${SCHEDULER_LICENSE_KEY}
# heronix.scheduler.url=https://scheduler.yourschool.edu:9443
# heronix.scheduler.port=9443
# heronix.scheduler.mode=SYNC
# heronix.scheduler.auth-mode=SSO
# heronix.scheduler.sso-token-secret=${SCHEDULER_SSO_SECRET}
# heronix.scheduler.auto-sync=true
# heronix.scheduler.sync-interval=180

# ----------------------------------------------------------------------------
# Scenario 4: Manual import/export (no persistent connection)
# ----------------------------------------------------------------------------
# heronix.scheduler.enabled=true
# heronix.scheduler.license-key=YOUR-KEY
# heronix.scheduler.url=http://localhost:9090
# heronix.scheduler.mode=IMPORT
# heronix.scheduler.auth-mode=SEPARATE
# (User manually exports CSV from SIS and imports into SchedulerV2)

# ============================================================================
# SECURITY BEST PRACTICES
# ============================================================================
#
# 1. NEVER commit license keys or secrets to version control
# 2. Use environment variables for sensitive values:
#    heronix.scheduler.license-key=${SCHEDULER_LICENSE_KEY}
#    heronix.scheduler.sso-token-secret=${SCHEDULER_SSO_SECRET}
#
# 3. Generate strong SSO secrets:
#    openssl rand -base64 32
#
# 4. Use HTTPS in production:
#    heronix.scheduler.url=https://scheduler.yourschool.edu
#
# 5. Restrict API access with firewall rules
#
# 6. Rotate secrets periodically (every 90 days recommended)
#
# 7. Monitor access logs for suspicious activity
#
# ============================================================================
